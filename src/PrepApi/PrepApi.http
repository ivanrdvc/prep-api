@PrepApi_HostAddress = http://localhost:5053
@Bearer_Token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6Iml2YW5yIiwic3ViIjoiaXZhbnIiLCJqdGkiOiJhMTg4OTUzZSIsImF1ZCI6InByZXAtYXBpIiwibmJmIjoxNzQ1NTc5MjAzLCJleHAiOjE3NTM0NDE2MDMsImlhdCI6MTc0NTU3OTIwNCwiaXNzIjoiZG90bmV0LXVzZXItand0cyJ9.M5TynhpTB2uyyIXE8jOpWWOhWurrGrJ2ovJX1zxwKD8

### Create a recipe
POST {{PrepApi_HostAddress}}/api/recipes/
Content-Type: application/json
Authorization: Bearer {{Bearer_Token}}

{
  "name": "Simple Recipe",
  "description": "Basic recipe description.",
  "prepTimeMinutes": 5,
  "cookTimeMinutes": 10,
  "yield": "8 servings",
  "steps": [
    { "description": "Mix dry ingredients.", "order": 1 },
    { "description": "Add wet ingredients.", "order": 2 },
    { "description": "Cook until done.", "order": 3 }
  ],
  "ingredients": [
    {
      "ingredientId": "11111111-1111-1111-1111-111111111111",
      "quantity": 2,
      "unit": 1
    },
    {
      "ingredientId": "22222222-2222-2222-2222-222222222222",
      "quantity": 3,
      "unit": 2
    }
  ]
}

### Get a recipe
GET {{PrepApi_HostAddress}}/api/recipes/01969d5a-89b5-78d6-822c-86a6fc53baba
Authorization: Bearer {{Bearer_Token}}

### Update a recipe
PUT {{PrepApi_HostAddress}}/api/recipes/0196a1ff-b622-7c7b-bb02-e8063eb7312f
Content-Type: application/json
Authorization: Bearer {{Bearer_Token}}

{
  "name": "Updated Recipe",
  "description": "Updated recipe description.",
  "prepTimeMinutes": 1,
  "cookTimeMinutes": 1,
  "yield": "1 servings",
  "steps": [
    { "description": "Combine ingredients.", "order": 1 },
    { "description": "Mix thoroughly.", "order": 2 }
  ],
  "ingredients": [
    {
      "ingredientId": "11111111-1111-1111-1111-111111111111",
      "quantity": 3,
      "unit": 1
    },
    {
      "ingredientId": "33333333-3333-3333-3333-333333333333",
      "quantity": 4,
      "unit": 2
    }
  ]
}

### Delete a recipe
DELETE {{PrepApi_HostAddress}}/api/recipes/0196a205-6f27-70b1-adfc-92476f0f8bf3
Authorization: Bearer {{Bearer_Token}}

### Create a Prep
POST {{PrepApi_HostAddress}}/api/preps/
Content-Type: application/json
Authorization: Bearer {{Bearer_Token}}

{
  "recipeId": "55555555-5555-5555-5555-555555555555",
  "summaryNotes": "Changed ingredients.",
  "prepTimeMinutes": 12,
  "cookTimeMinutes": 18,
  "steps": [
    { "description": "Combine ingredients.", "order": 1 },
    { "description": "Mix thoroughly.", "order": 2 },
    { "description": "Rest.", "order": 3 }
  ],
  "prepIngredients": [
    {
      "ingredientId": "11111111-1111-1111-1111-111111111111",
      "quantity": 3,
      "unit": 1,
      "notes": "Simple note"
    },
    {
      "ingredientId": "22222222-2222-2222-2222-222222222222",
      "quantity": 3,
      "unit": 2
    },
    {
      "ingredientId": "44444444-4444-4444-4444-444444444444",
      "quantity": 3,
      "unit": 2
    }
  ]
}

### Delete a prep
DELETE {{PrepApi_HostAddress}}/api/preps/0196a205-6f27-70b1-adfc-92476f0f8bf3
Authorization: Bearer {{Bearer_Token}}

### Get a prep
GET {{PrepApi_HostAddress}}/api/preps/0196a20b-e844-7ee5-ad5f-8518f5a586f1
Authorization: Bearer {{Bearer_Token}}

### Get preps by recipe ID (paginated and sorted)
GET {{PrepApi_HostAddress}}/api/preps/recipe/55555555-5555-5555-5555-555555555555?pageSize=10&pageIndex=0&sortorder=desc
Authorization: Bearer {{Bearer_Token}}

### Update a Prep
PUT {{PrepApi_HostAddress}}/api/preps/0196b160-61d1-7f8c-82db-9fd6c1c17111
Content-Type: application/json
Authorization: Bearer {{Bearer_Token}}

{
  "summaryNotes": "Updated prep notes and slightly different ingredients.",
  "prepTimeMinutes": 15,
  "cookTimeMinutes": 25,
  "steps": [
    { "description": "Prepare all ingredients as per new instructions.", "order": 1 },
    { "description": "Combine in a large bowl.", "order": 2 },
    { "description": "Cook for 25 minutes.", "order": 3 }
  ],
  "prepIngredients": [
    {
      "ingredientId": "11111111-1111-1111-1111-111111111111",
      "quantity": 2,
      "unit": 1,
      "notes": "Reduced quantity"
    },
    {
      "ingredientId": "33333333-3333-3333-3333-333333333333",
      "quantity": 1,
      "unit": 3,
      "notes": "Added new ingredient"
    }
  ]
}